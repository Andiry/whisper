# WHISPER 1.0

**WHISPER**, or **Wisconsin-HPL Suite for Persistence** is a comprehensive benchmark
suite for emerging persistent memory technologies. For more details :

**An Analysis of Persistent Memory Use with WHISPER**. *ASPLOS'17*.

Sanketh Nalli, Swapnil Haria, Mike Swift, Mark Hill, Haris Volos, Kim Keeton.

research.cs.wisc.edu/multifacet/whisper/

## IMPORTANT
We are currently testing WHISPER in various environments.
PLEASE USE AT YOUR OWN RISK.
Report issues and suggestions to Swapnil (swapnilh at cs dot wisc edu) or Sanketh (sankey
at cs dot wisc dot edu). 

Eliza is a tool to process traces generated by WHISPER applications.
You may use it or develop your own for your analysis.

## To download:
~~~
   	$ git clone --recursive https://github.com/swapnilh/whisper.git
	$ cd whisper
~~~
OR 
~~~
   	$ git clone https://github.com/swapnilh/whisper.git
	$ cd whisper
	$ ./script -d
~~~

## To build:
~~~
	$ cd whisper
	$ ./script.py -b \
		-w	{ycsb,tpcc,echo,redis,ctree,hashmap,memcached,vacation,nfs,exim,sql,all}
~~~

## To run (tracing is optional, but need to be root for it):
~~~
	$ cd whisper
	$ ./script.py -r [-t] -z {small|med|large} \
		-w  {ycsb,tpcc,echo,redis,ctree,hashmap,memcached,vacation,nfs,exim,sql,all}
~~~

## To clean:
~~~
	$ cd whisper
	$ ./script.py -c \
		-w {ycsb,tpcc,echo,redis,ctree,hashmap,memcached,vacation,nfs,exim,sql,all}
~~~

## To update:
~~~
	$ cd whisper
	$ ./script -u
	git submodule update --remote
	git submodule update status

~~~

## For help:
~~~
	$ cd whisper
	$ ./script -h

usage: script [-h] [-d] [-b] [-r]
              [-w {ycsb,tpcc,echo,redis,ctree,hashmap,memcached,vacation,nfs,exim,sql,all}]
              [-z {small,med,large}] [-t] [-c] [-s] [-u] [-p]

Buildi, Clean, Run, Update WHISPER

optional arguments:
  -h, --help            show this help message and exit
  -d                    Download workload
  -b                    Build workload
  -r                    Run workload
  -w {ycsb,tpcc,echo,redis,ctree,hashmap,memcached,vacation,nfs,exim,sql,all}
                        Workload
  -z {small,med,large}  Set workload size
  -t                    Enable tracing. Need to be root.
  -c                    Clean workload
  -s                    Clean workload and dependencies
  -u                    Update benchmark
  -p                    More help for a workload

~~~

## For more help:
~~~
Example,
	$ ./script -w vacation -p 

Usage: ./build/bench/stamp-kozy/vacation/vacation [options]

Options:                                             (defaults)
    c <UINT>   Number of [c]lients                   (1)
    n <UINT>   [n]umber of user queries/transaction  (10)
    q <UINT>   Percentage of relations [q]ueried     (90)
    t <UINT>   Number of [t]ransactions              (131072)
    r <UINT>   Number of [r]ows		       (5767168)
    u <UINT>   Percentage of [u]ser transactions     (80)
    e <UINT>   Enable trac[e] collection             (0)

~~~
